function Schedule(){DOM.style.opacity=0,chrome.storage.local.get(["cookie"],function(e){if(e.cookie){var t="cookie="+e.cookie;xhr.addEventListener("readystatechange",function(e){4==this.readyState&&this.responseURL.indexOf("Schedules")>=0&&renderSchedule(JSON.parse(this.responseText))}),xhrRequest("Schedules",t)}else DOM.innerHTML="ERROR:: Cookie null"})}function ChangePassword(){DOM.style.opacity=0,DOM.style.transform="translateY(10px)",setTimeout(function(){DOM.innerHTML='<div class="form flex" id="form"><div class="box"><input type="password" id="pw1" required><label>Mật khẩu mới</label></div><input type="checkbox" id="check"><layer>hiển thị mật khẩu</layer></div><layer id="msg"></layer><button id="update">cập nhật</button>',DOM.style.opacity=1,DOM.style.transform="translateY(0px)";var e=document.getElementById("update"),t=document.getElementById("pw1"),n=document.getElementById("check");document.addEventListener("keyup",function(e){"Enter"==e.key&&Change()}),n.addEventListener("click",function(e){n.checked?t.type="text":t.type="password"}),e.addEventListener("click",Change)},1e3)}function Change(){msg.innerText="",chrome.storage.local.get(["cookie","pass"],function(e){if(""==pw1.value||pw1.value==e.pass)msg.innerText="bạn chưa nhập mật khẩu mới...";else{chrome.storage.local.set({pass:pw1.value});var t="cookie="+e.cookie+"&oldPass="+e.pass+"&newPass="+pw1.value;xhr.addEventListener("readystatechange",function(e){4===this.readyState&&this.responseURL.indexOf("ChangePass")>=0&&(DOM.innerHTML='<div style="display: flex;flex-direction: column;justify-content: center;color: #1e7900;align-items: center;height: 100%;font-weight: bold;"><img src="./assets/img/tick.png" style="margin: 10px;"><p>'+this.responseText+"</p></div>")}),xhrRequest("ChangePass",t)}})}function Logout(){chrome.storage.local.remove(["user","pass","cookie"],function(){console.log("success")}),window.location.href="popup.html"}